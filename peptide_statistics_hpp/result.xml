<?xml version="1.0" encoding="ISO-8859-1" ?>
<interface id="peptide_statistics_hpp" version="0.1.0">
    <download>
        <source type="folder" name="protein_coverage/"/>
        <source type="folder" name="library_coverage_summary_statistics/"/>
    </download>

    <view id="view_added" label="View Protein Evidence">
        <blockRef id="main" type="view_added"/>
    </view>

    <block id="view_added" type="table_ss">
        <data>
            <source type="file" name="novel_proteins_w_cosine/"/>
            <parsers>
                <parser type="SQLite"/>
            </parsers>
        </data>
        <row>
          <!-- <column type="float" field="comparison_coverage" label="Coverage (KB Only)" width="2"/>
          <column type="float" field="new_coverage" label="Coverage (Added Only)" width="2"/> -->
          <column type="text" field="protein" label="Protein" width="4"/>
          
          <column type="float" precision="4"  field="hpp_score" label="Score (HPP 2+)" width="4" tooltip=""/>
          <column type="float" precision="4"  field="hpp_fdr" label="FDR (HPP 2+)" width="4" tooltip=""/>
          <!-- <column type="float" precision="4"  field="all_score" label="Score (Canonical old)" width="4" tooltip=""/>
          <column type="float" precision="4"  field="all_fdr" label="FDR (Canonical old)" width="4" tooltip=""/> -->
          <column type="float" precision="4"  field="hint_score" label="Score (Picked)" width="4" tooltip=""/>
          <column type="float" precision="4"  field="hint_fdr" label="FDR (Picked)" width="4" tooltip=""/>
          <column type="float" precision="4"  field="common_score" label="Score (Canonical)" width="4" tooltip=""/>
          <column type="float" precision="4"  field="common_fdr" label="FDR (Canonical)" width="4" tooltip=""/>
          <!-- <column type="float" precision="4"  field="all_score" label="Score (Canonical)" width="4" tooltip=""/>
          <column type="float" precision="4"  field="all_fdr" label="FDR (Canonical)" width="4" tooltip=""/> -->
        <column type="float" precision="3"  field="coverage_incl_shared" label="Total Coverage" width="4" tooltip=""/>
          
        <column type="text" field="protein_type" label="Protein Type" width="4"/>

            <column label="View Peptides" type="genericurlgenerator" width="5">
                <parameter name="URLBASE" value="result.jsp"/>
                <parameter name="USETASK" value="True"/>
                <parameter name="REQUESTPARAMETER=view" value="view_added_peptides"/>
                <parameter name="HASHPARAMTER=protein_input" value="[protein]"/>
                <parameter name="HASHPARAMTER=hpp_match_input" value="True"/>
                <parameter name="HASHPARAMTER=explained_intensity_lowerinput" value="[explained_intensity_cutoff]"/>
                <parameter name="LABEL" value="View HPP Compliant Peptides"/>
                <parameter name="PASS_URL" value="True"/>
            </column>
            <column type="text" field="gene" label="Gene" width="4"/>
            <column type="integer" field="pe" label="PE" width="1"/>
            <column type="integer" field="aa_total" label="Protein Length" width="3"/>
            <column type="integer" field="num_sequences" label="#Sequences" width="1"/>
            <column type="integer" field="combined_hpp_just_current" label="#HPP Peptides (Canonical-unique)" width="5"/>
            <column type="integer" field="combined_hpp_just_current_iso_unique" label="#HPP Peptides (Isoform-unique)" width="5"/>
            <!-- <column type="integer" field="comparison_hpp_w_synthetic_cosine" label="#HPP Peptides (KB Only) (Synthetic + Pass Cosine Threshold)" width="2"/>
            <column type="integer" field="new_hpp_w_synthetic_cosine" label="#HPP Peptides (Added Only) (Synthetic + Pass Cosine Threshold)" width="2"/> -->
            <column type="float" field="total_coverage_just_current" label="Coverage" width="2"/>
            <!-- <column type="text" field="ms_evidence" label="Proteomics Evidence" width="2"/> -->
            <column type="expandable" field="supporting_peptides" label="Previously-known Peptides" width="20"/>
            <column type="expandable" field="novel_peptides" label="Novel Peptides" width="20"/>
            <column type="integer" field="combined_hpp" label="#HPP Peptides (Combined)" width="5"/>
            <column type="integer" field="comparison_hpp_allfdr" label="#HPP Peptides (Reference Common FDR)" width="2"/>
            <column type="integer" field="comparison_hpp_hppfdr" label="#HPP Peptides (Reference HPP FDR)" width="2"/>

            <column type="integer" field="new_hpp" label="#HPP Peptides (Added Only)" width="2"/>
            <column type="float" field="total_coverage" label="Coverage (Total)" width="2"/>
            <column type="float" field="coverage_increase" label="Coverage Increase (All)" width="2"/>
            <!-- <column type="text" field="promoted" label="Evidence to Promote" width="2"/> -->
            <column type="expandable" field="supporting_peptides_w_synthetic" label="Previously-known Peptides (Synthetic)" width="20"/>
            <column type="expandable" field="novel_peptides_w_synthetic" label="Novel Peptides (Synthetic)" width="20"/>
            <column type="integer" field="combined_hpp_w_synthetic" label="#HPP Peptides (Combined) (Synthetic)" width="5"/>
            <column type="integer" field="comparison_hpp_allfdr_w_synthetic" label="#HPP Peptides (Reference Common FDR) (Synthetic)" width="2"/>
            <column type="integer" field="comparison_hpp_hppfdr_w_synthetic" label="#HPP Peptides (Reference HPP FDR)(Synthetic)" width="2"/>

            <column type="integer" field="new_hpp_w_synthetic" label="#HPP Peptides (Added Only) (Synthetic)" width="2"/>
            <column type="float" field="total_coverage_w_synthetic" label="Coverage (Total) (Synthetic)" width="2"/>
            <column type="float" field="coverage_increase_w_synthetic" label="Coverage Increase (Synthetic)" width="2"/>
            <!-- <column type="expandable" field="novel_peptides_just_current" label="All Input Peptides" width="20"/> -->
            <!-- <column type="text" field="promoted_w_synthetic" label="Evidence to Promote (Synthetic)" width="2"/> -->
            <column type="expandable" field="supporting_peptides_w_synthetic_cosine" label="Previously-known Peptides (Synthetic + Pass Cosine Threshold)" width="20"/>
            <column type="expandable" field="novel_peptides_w_synthetic_cosine" label="Novel Peptides (Synthetic + Pass Cosine Threshold)" width="20"/>
                        <column type="integer" field="combined_hpp_w_synthetic_cosine" label="#HPP Peptides (Combined) (Synthetic + Pass Cosine Threshold)" width="5"/>
            <column type="integer" field="comparison_hpp_allfdr_w_synthetic_cosine" label="#HPP Peptides (Reference Common FDR) (Synthetic + Pass Cosine Threshold)" width="2"/>
            <column type="integer" field="comparison_hpp_hppfdr_w_synthetic_cosine" label="#HPP Peptides (Reference HPP FDR) (Synthetic + Pass Cosine Threshold)" width="2"/>
            <column type="integer" field="new_hpp_w_synthetic_cosine" label="#HPP Peptides (Added Only) (Synthetic + Pass Cosine Threshold)" width="2"/>
            <column type="float" field="total_coverage_w_synthetic_cosine" label="Coverage (Total) (Synthetic + Pass Cosine Threshold)" width="2"/>
            <column type="float" field="coverage_increase_w_synthetic_cosine" label="Coverage (Added) (Synthetic + Pass Cosine Threshold)" width="2"/>
            <!-- <column type="text" field="promoted_w_synthetic_cosine" label="Evidence to Promote (Synthetic + Pass Cosine Threshold)" width="2"/> -->
        </row>
    </block>


    <view id="view_added_peptides" label="View Peptide Evidence">
        <blockRef id="main" type="view_added_peptides"/>
    </view>

    <view id="view_mappings" label="View All Mappings">
        <blockRef id="main" type="view_mappings"/>
    </view>

    <view id="view_added_psm" label="View PSM Evidence">
        <blockRef id="main" type="view_added_psm"/>
    </view>

    <view  group="Dataset-level outputs" id="view_dataset_proteins_hpp" label="View Proteins Per Dataset (HPP)">
        <blockRef id="main" type="view_dataset_proteins_hpp"/>
    </view>

    <view  group="Dataset-level outputs" id="view_dataset_proteins_all" label="View Proteins Per Dataset (All)">
        <blockRef id="main" type="view_dataset_proteins_all"/>
    </view>

    <view  group="Search-level outputs" id="view_task_proteins_hpp" label="View Proteins Per Task (HPP)">
        <blockRef id="main" type="view_task_proteins_hpp"/>
    </view>

    <view  group="Search-level outputs" id="view_task_proteins_all" label="View Proteins Per Task (All)">
        <blockRef id="main" type="view_task_proteins_all"/>
    </view>

    <block id="view_added_psm" type="table_ss">
        <data>
            <source type="file" name="merged_novel_psms_w_cosine/"/>
            <parsers>
                <parser type="SQLite"/>
            </parsers>
        </data>
        <row>
            <column type="slideExpandableHidden" field="protein" label="Protein" width="4" tooltip="Primary (citable) accession number for the protein."/>
            <column type="text" field="gene" label="Gene" width="4"/>
            <column type="text" field="protein_type" label="Protein Type" width="4"/>
            <column type="integer" field="aa_start" label="AA Start" width="1"/>
            <column type="integer" field="aa_end" label="AA End" width="1"/>
            <column type="integer" field="pe" label="PE" width="5"/>
            <column type="text" field="hpp_match" label="HPP Compliant" width="2"/>
            <column type="text" field="usi" label="USI" width="20"/>
            <!-- <column type="text" field="filename" label="Filename" width="20"/>
            <column type="integer" field="scan" label="Scan" width="4"/> -->
            <column type="float" field="score" label="-log10(EValue)" width="6"/>
            <column type="float" field="explained_intensity" label="Explained Intensity" width="6"/>
            <column type="text" field="pass" label="Above Library Threshold" width="6"/>
            <column type="text" field="parent_mass" label="Precursor Mass" width="20"/>
            <column autoHideSentinel="true" type="text" field="synthetic_usi" label="Synthetic Match" width="20"/>
            <!-- <column type="text" field="synthetic_filename" label="Synthetic Filename" width="20"/>
            <column type="integer" field="synthetic_scan" label="Synthetic Scan" width="4"/> -->
            <column type="integer" field="canonical_matches" label="#SAAP protein matches" width="1"/>
            <column type="text" field="gene_unique" label="Gene Unique" width="2"/>
            <column type="integer" field="exon_junctions_covered" label="Exon Junctions Covered" width="1"/>
            <column type="integer" field="exons_covered_no_junction" label="Complete Exons Covered" width="1"/>
            <column type="integer" field="total_unique_exons_covered" label="Total Exons Covered" width="1"/>
            <column type="text" field="exons_mapped" label="All Mapped Exons" width="10"/>
            <column type="text" field="type" label="Evidence Type" width="6"/>
            <column label="Add to Library" type="genericurlgenerator" width="12">
                <parameter name="URLBASE" value="/ProteoSAFe/addToLibrary.jsp"/>
                <parameter name="REQUESTPARAMETER=file" value="[filename]"/>
                <parameter name="REQUESTPARAMETER=scan" value="[scan]"/>
                <!--<parameter name="REQUESTPARAMETER=index" value=""/>\-->
                <parameter name="REQUESTPARAMETER=charge" value="[charge]"/>
                <parameter name="REQUESTPARAMETER=mass" value="[parent_mass]"/>
                <parameter name="REQUESTPARAMETER=proteins" value="[protein]"/>
                <parameter name="REQUESTPARAMETER=peptide" value="[sequence]"/>
                <parameter name="LABEL" value="Link"/>\
                <parameter name="USETASK" value="True"/>\
                <parameter name="PASS_URL" value="True"/>\
            </column>
            <column type="text" field="sequence" label="Sequence" width="20"/>
            <column type="integer" field="charge" label="Charge" width="4"/>
            <column type="text" field="sequence_unmodified" label="Demodified Sequence" width="20"/>
            <column type="text" field="sequence_unmodified_il" label="IL Demodified Sequence" width="20"/>
        </row>
        <row expander="image">
            <column type="jscolumnspectrumviewer" label="Input PSM" colspan="6">
                <parameter name="file"          file="[filename]"/>
                <parameter name="scan"          value="[scan]"/>
                <parameter name="charge"        value="[charge]"/>
                <parameter name="tolerance"     value="[frag_tol]"/>
                <parameter name="peptide"       value="[sequence]"/>
                <parameter name="modformat"     value="inspect"/>

            </column>
            <column type="jscolumnspectrumviewer"  label="Best Matching Synthetic PSM" colspan="6">
                <parameter name="file"          file="[synthetic_filename]"/>
                <parameter name="scan"          value="[synthetic_scan]"/>
                <parameter name="charge"        value="[charge]"/>
                <parameter name="peptide"       value="[sequence]"/>
                <parameter name="modformat"     value="inspect"/>
            </column>
        </row>
    </block>
        <block id="view_added_peptides" type="table_ss">
            <data>
                <source type="file" name="novel_peptides_w_cosine/"/>
                <parsers>
                    <parser type="SQLite"/>
                </parsers>
            </data>
            <row>
                <column type="slideExpandableHidden" characterhidelimit="18" buttontext="Show all proteins" field="protein" label="Protein" width="4" tooltip="Primary (citable) accession number for the protein."/>
                <column type="float" precision="4" field="precursor_fdr" label="Precursor FDR" width="4" tooltip=""/>
                <column type="float" precision="4" field="hint_protein_fdr" label="Protein FDR (Canonical)" width="4" tooltip=""/>
                <column type="float" precision="4"  field="hpp_protein_fdr" label="Protein FDR (HPP 2+)" width="4" tooltip=""/>
                <column type="expandable" field="gene" label="Gene" width="4" tooltip="Gene for the protein"/>
                <column type="text" field="protein_type" label="Protein Type" width="4"/>
                <column type="integer" field="aa_start" label="AA Start" width="1" tooltip="Start location of peptide.  If the peptide maps multiple times, to either multiple proteins or the same protein, this will be N/A."/>
                <column type="integer" field="aa_end" label="AA End" width="1" tooltip="End location of peptide.  If the peptide maps multiple times, to either multiple proteins or the same protein, this will be N/A."/>
                <column type="integer" field="pe" label="Protein Existence (PE) Level" width="5" tooltip="Protein Existence (PE) Level from neXtProt 2020 release."/>
                <column type="text" field="sequence" label="Sequence" width="20"/>
                <column type="text" field="sequence_unmodified" label="Demodified Sequence" width="20"/>
                <column type="text" field="sequence_unmodified_il" label="IL Demodified Sequence" width="20"/>
                <column type="integer" field="charge" label="Charge" width="4"/>
                <column type="text" field="hpp_match" label="Compliant with HPP Data Interpretation Guidelines" width="2" tooltip="Peptide follows HPP Data Interpretation Guidelines (2019-10-15) for use in detecting missing proteins (1/0)."/>
                <column label="Link to all PSMs" type="genericurlgenerator" width="5" tooltip="Link to all PSMs for this sequence and charge.">
                    <parameter name="URLBASE" value="result.jsp"/>
                    <parameter name="USETASK" value="True"/>
                    <parameter name="REQUESTPARAMETER=view" value="view_added_psm"/>
                    <parameter name="HASHPARAMTER=sequence_input" value="[sequence]"/>
                    <parameter name="HASHPARAMTER=charge_lowerinput" value="[charge]"/>
                    <parameter name="HASHPARAMTER=charge_upperinput" value="[charge]"/>
                    <!-- <parameter name="HASHPARAMTER=cosine_lowerinput" value="[cosine_cutoff]"/> -->
                    <parameter name="LABEL" value="All PSMs"/>
                    <parameter name="PASS_URL" value="True"/>
                </column>
                <column type="text" field="parent_mass" label="Precursor Mass" width="20"/>
                <!-- <column type="text" field="type" label="Evidence Type" width="6"/> -->
                <column type="float" field="score" label="Peptide Spectrum Match (PSM) Identification Score" width="6" tooltip="Score for Peptide Spectrum Match (PSM) indicates the quality of this spectrum for this particular peptide."/>
                <column type="float" precision="3"  field="explained_intensity" label="Explained Intensity" width="6"/>
                <column type="integer" field="matched_ions" label="Matched Ions" width="6"/>
                <!-- <column type="text" field="pass" label="Above Library Threshold" width="6"/> -->
                <column type="float" precision="3"  field="cosine" label="Best Annotated Cosine to Synthetic Spectrum Match" width="6" tooltip="Spectrum cosine using only annotated peaks from the input spectrum and closest matching synthetic."/>
                <column type="integer" field="canonical_matches" label="#SAAP protein matches" width="1" tooltip = "Number of proteins the peptide matches to with a single amino acid variant."/>
                <column type="text" field="gene_unique" label="Gene Unique" width="2" tooltip = "Peptide matches uniquely to a single gene with a single amino acid variant (True/False)."/>
                <column type="integer" field="exon_junctions_covered" label="Exon Junctions Covered" width="1"/>
                <column type="integer" field="exons_covered_no_junction" label="Complete Exons Covered" width="1"/>
                <column type="integer" field="total_unique_exons_covered" label="Total Exons Covered" width="1"/>
                <column type="text" field="type" label="Evidence Type" width="6" tooltip = "Novelty of sequence compared to MassIVE-KB.  If the sequence is not uniquely mapping, the value N/A is used."/>
                <column label="Add to Library" type="genericurlgenerator" width="12">
                    <parameter name="URLBASE" value="/ProteoSAFe/addToLibrary.jsp"/>
                    <parameter name="REQUESTPARAMETER=file" value="[filename]"/>
                    <parameter name="REQUESTPARAMETER=scan" value="[scan]"/>
                    <!--<parameter name="REQUESTPARAMETER=index" value=""/>\-->
                    <parameter name="REQUESTPARAMETER=charge" value="[charge]"/>
                    <parameter name="REQUESTPARAMETER=mass" value="[parent_mass]"/>
                    <parameter name="REQUESTPARAMETER=proteins" value="[protein]"/>
                    <parameter name="REQUESTPARAMETER=peptide" value="[sequence]"/>
                    <parameter name="LABEL" value="Link"/>\
                    <parameter name="USETASK" value="True"/>\
                    <parameter name="PASS_URL" value="True"/>\
                </column>
                <column type="text" field="database_usi" label="Best Peptide Spectrum Match (PSM) By PSM Identification Score" width="20"/>
                <!-- <column type="float" field="psm_fdr" label="PSM FDR" width="4" tooltip=""/> -->
                <column autoHideSentinel="true" type="text" field="cosine_usi" label="Best Peptide Spectrum Match (PSM) By Cosine to Synthetic Peptide Spectra" width="20"/>
                <column autoHideSentinel="true" type="text" field="synthetic_usi" label="Most-similar Synthetic Peptide Spectrum" width="20"/>
                <column type="expandable" field="all_mapped_exons" label="All Mapped Exons" width="10"/>
                <column type="expandable" field="all_proteins_w_coords" label="All Mapped Proteins" width="10"/>
                <column label="COSMIC Linkout" type="genericurlgenerator" width="12">
                    <parameter name="URLBASE" value="https://cancer.sanger.ac.uk/cosmic/gene/analysis"/>
                    <parameter name="REQUESTPARAMETER=coords" value="AA%3AAA"/>
                    <parameter name="REQUESTPARAMETER=ln" value="[gene]"/>
                    <parameter name="REQUESTPARAMETER=start" value="[aa_start]"/>
                    <parameter name="REQUESTPARAMETER=end" value="[aa_end]"/>
                    <parameter name="LABEL" value="Link"/>\
                </column>
                <column label="View Detailed Mappings" type="genericurlgenerator" width="5">
                    <parameter name="URLBASE" value="result.jsp"/>
                    <parameter name="USETASK" value="True"/>
                    <parameter name="REQUESTPARAMETER=view" value="view_mappings"/>
                    <parameter name="HASHPARAMTER=sequence_input" value="[sequence_unmodified]"/>
                    <parameter name="LABEL" value="All PSMs"/>
                    <parameter name="PASS_URL" value="True"/>
                </column>
                <!-- <column type="text" field="database_filename" label="Best DB Filename" width="20"/>
                <column type="integer" field="database_scan" label="Best DB Scan" width="4"/>
                <column type="text" field="cosine_filename" label="Best Cosine Filename" width="20"/>
                <column type="integer" field="cosine_scan" label="Best Cosine Scan" width="4"/>
                <column type="text" field="synthetic_filename" label="Synthetic Filename" width="20"/>
                <column type="integer" field="synthetic_scan" label="Synthetic Scan" width="4"/> -->
            </row>
            <row expander="image">
                <column type="jscolumnspectrumviewer"  label="Best PSM By Database Score" colspan="6">
                    <parameter name="file"          file="[database_filename]"/>
                    <parameter name="scan"          value="[database_scan]"/>
                    <parameter name="charge"        value="[charge]"/>
                    <parameter name="tolerance"     value="[frag_tol]"/>
                    <parameter name="peptide"       value="[sequence]"/>
                    <parameter name="modformat"     value="inspect"/>
                </column>
                <column type="jscolumnspectrumviewer" label="Best PSM By Cosine to Synthetic" colspan="4">
                    <parameter name="file"          file="[cosine_filename]"/>
                    <parameter name="scan"          value="[cosine_scan]"/>
                    <parameter name="charge"        value="[charge]"/>
                    <parameter name="tolerance"     value="[frag_tol]"/>
                    <parameter name="peptide"       value="[sequence]"/>
                    <parameter name="modformat"     value="inspect"/>
                </column>
                <column type="jscolumnspectrumviewer" label="Best Matched Synthetic" colspan="2">
                    <parameter name="file"          file="[synthetic_filename]"/>
                    <parameter name="scan"          value="[synthetic_scan]"/>
                    <parameter name="charge"        value="[charge]"/>
                    <parameter name="peptide"       value="[synthetic_sequence]"/>
                    <parameter name="modformat"     value="inspect"/>
                </column>
            </row>
        </block>

        <!-- header = ['sequence','protein','protein_type','gene','start_aa','end_aa','mismatch_position','protein_aa','peptide_aa','delta_mass','precursor_count','psm_count','best_precursor_usi'] -->

                <block id="view_mappings" type="table_ss">
                    <data>
                        <source type="file" name="all_mappings/"/>
                        <parsers>
                            <parser type="SQLite"/>
                        </parsers>
                    </data>
                    <row>
                      <column type="text" field="sequence" label="Demodified Sequence" width="4"/>
                        <column type="text" field="protein" label="Protein" width="4" tooltip="Primary (citable) accession number for the protein."/>
                        <column type="text" field="gene" label="Gene" width="4" tooltip="Gene for the protein"/>
                        <column type="text" field="protein_type" label="Protein Type" width="4"/>
                        <column type="integer" field="start_aa" label="AA Start" width="1" tooltip="Start location of peptide.  If the peptide maps multiple times, to either multiple proteins or the same protein, this will be N/A."/>
                        <column type="integer" field="end_aa" label="AA End" width="1" tooltip="End location of peptide.  If the peptide maps multiple times, to either multiple proteins or the same protein, this will be N/A."/>
                        <column type="integer" field="mismatch_position" label="Mismatch Position" width="5"/>
                        <column type="text" field="protein_aa" label="Protein AA" width="4"/>
                        <column type="text" field="peptide_aa" label="Peptide AA" width="4"/>
                        <column type="integer" field="precursor_count" label="Precursor Count" width="4"/>
                        <column type="integer" field="psm_count" label="PSM Count" width="4"/>
                        <column type="text" field="best_precursor_usi" label="Best Precorsor USI" width="20"/>
                        <column label="COSMIC Linkout" type="genericurlgenerator" width="12">
                            <parameter name="URLBASE" value="https://cancer.sanger.ac.uk/cosmic/gene/analysis"/>
                            <parameter name="REQUESTPARAMETER=coords" value="AA%3AAA"/>
                            <parameter name="REQUESTPARAMETER=ln" value="[gene]"/>
                            <parameter name="REQUESTPARAMETER=start" value="[start_aa]"/>
                            <parameter name="REQUESTPARAMETER=end" value="[end_aa]"/>
                            <parameter name="LABEL" value="Link"/>\
                        </column>
                        <!-- <column type="text" field="database_filename" label="Best DB Filename" width="20"/>
                        <column type="integer" field="database_scan" label="Best DB Scan" width="4"/>
                        <column type="text" field="cosine_filename" label="Best Cosine Filename" width="20"/>
                        <column type="integer" field="cosine_scan" label="Best Cosine Scan" width="4"/>
                        <column type="text" field="synthetic_filename" label="Synthetic Filename" width="20"/>
                        <column type="integer" field="synthetic_scan" label="Synthetic Scan" width="4"/> -->
                    </row>
                    <row expander="image">
                        <column type="jscolumnspectrumviewer"  label="Best PSM" colspan="6">
                            <parameter name="file"          file="[best_precursor_filename]"/>
                            <parameter name="scan"          value="[best_precursor_scan]"/>
                            <parameter name="charge"        value="[best_precursor_charge]"/>
                            <parameter name="peptide"       value="[best_precursor_sequence]"/>
                            <parameter name="modformat"     value="inspect"/>
                        </column>
                      </row>
                    <!--    <column type="jscolumnspectrumviewer" label="Best PSM By Cosine to Synthetic" colspan="4">
                            <parameter name="file"          file="[cosine_filename]"/>
                            <parameter name="scan"          value="[cosine_scan]"/>
                            <parameter name="charge"        value="[charge]"/>
                            <parameter name="tolerance"     value="[frag_tol]"/>
                            <parameter name="peptide"       value="[sequence]"/>
                            <parameter name="modformat"     value="inspect"/>
                        </column>
                        <column type="jscolumnspectrumviewer" label="Best Matched Synthetic" colspan="2">
                            <parameter name="file"          file="[synthetic_filename]"/>
                            <parameter name="scan"          value="[synthetic_scan]"/>
                            <parameter name="charge"        value="[charge]"/>
                            <parameter name="peptide"       value="[sequence]"/>
                            <parameter name="modformat"     value="inspect"/>
                        </column>
                    </row> -->
                </block>



      <block id="view_dataset_proteins_hpp" type="table_ss">
          <data>
              <source type="file" name="dataset_proteins_hpp/"/>
              <parsers>
                  <parser type="SQLite"/>
              </parsers>
          </data>
          <row>
            <column type="text" field="protein" label="Protein" width="4"/>
          <column type="float" precision="4"  field="hpp_score" label="Score (HPP 2+)" width="4" tooltip=""/>
          <column type="float" precision="4"  field="hpp_fdr" label="FDR (HPP 2+)" width="4" tooltip=""/>
         <column type="integer" field="hpp_sequences" label="HPP Sequences" width="1"/>
        <column type="float" precision="3"  field="coverage_incl_shared" label="Total Coverage" width="4" tooltip=""/>

          
          <!-- <column type="float" precision="4"  field="all_score" label="Score (Canonical old)" width="4" tooltip=""/>
          <column type="float" precision="4"  field="all_fdr" label="FDR (Canonical old)" width="4" tooltip=""/> -->
          <column type="float" precision="4"  field="hint_score" label="Score (Picked)" width="4" tooltip=""/>
          <column type="float" precision="4"  field="hint_fdr" label="FDR (Picked)" width="4" tooltip=""/>
          <column type="float" precision="4"  field="common_score" label="Score (Canonical)" width="4" tooltip=""/>
          <column type="float" precision="4"  field="common_fdr" label="FDR (Canonical)" width="4" tooltip=""/>
            <column type="text" field="protein_type" label="Protein Type" width="4"/>
            <column type="text" field="gene" label="Gene" width="4"/>
            <column type="integer" field="pe" label="PE" width="1"/>
            <column type="integer" field="aa_total" label="Protein Length" width="3"/>
          </row>
      </block>

            <block id="view_dataset_proteins_all" type="table_ss">
          <data>
              <source type="file" name="dataset_proteins_all/"/>
              <parsers>
                  <parser type="SQLite"/>
              </parsers>
          </data>
          <row>
            <column type="text" field="protein" label="Protein" width="4"/>
          <column type="float" precision="4"  field="hpp_score" label="Score (HPP 2+)" width="4" tooltip=""/>
          <column type="float" precision="4"  field="hpp_fdr" label="FDR (HPP 2+)" width="4" tooltip=""/>
                   <column type="integer" field="hpp_sequences" label="HPP Sequences" width="1"/>
                           <column type="float" precision="3"  field="coverage_incl_shared" label="Total Coverage" width="4" tooltip=""/>

          <!-- <column type="float" precision="4"  field="all_score" label="Score (Canonical old)" width="4" tooltip=""/>
          <column type="float" precision="4"  field="all_fdr" label="FDR (Canonical old)" width="4" tooltip=""/> -->
          <column type="float" precision="4"  field="hint_score" label="Score (Picked)" width="4" tooltip=""/>
          <column type="float" precision="4"  field="hint_fdr" label="FDR (Picked)" width="4" tooltip=""/>
          <column type="float" precision="4"  field="common_score" label="Score (Canonical)" width="4" tooltip=""/>
          <column type="float" precision="4"  field="common_fdr" label="FDR (Canonical)" width="4" tooltip=""/>
            <column type="text" field="protein_type" label="Protein Type" width="4"/>
            <column type="text" field="gene" label="Gene" width="4"/>
            <column type="integer" field="pe" label="PE" width="1"/>
            <column type="integer" field="aa_total" label="Protein Length" width="3"/>
          </row>
      </block>


      <block id="view_task_proteins_hpp" type="table_ss">
          <data>
              <source type="file" name="task_proteins_hpp/"/>
              <parsers>
                  <parser type="SQLite"/>
              </parsers>
          </data>
          <row>
            <column type="text" field="protein" label="Protein" width="4"/>
          <column type="float" precision="4"  field="hpp_score" label="Score (HPP 2+)" width="4" tooltip=""/>
          <column type="float" precision="4"  field="hpp_fdr" label="FDR (HPP 2+)" width="4" tooltip=""/>
         <column type="integer" field="hpp_sequences" label="HPP Sequences" width="1"/>
        <column type="float" precision="3"  field="coverage_incl_shared" label="Total Coverage" width="4" tooltip=""/>

          
          <!-- <column type="float" precision="4"  field="all_score" label="Score (Canonical old)" width="4" tooltip=""/>
          <column type="float" precision="4"  field="all_fdr" label="FDR (Canonical old)" width="4" tooltip=""/> -->
          <column type="float" precision="4"  field="hint_score" label="Score (Picked)" width="4" tooltip=""/>
          <column type="float" precision="4"  field="hint_fdr" label="FDR (Picked)" width="4" tooltip=""/>
          <column type="float" precision="4"  field="common_score" label="Score (Canonical)" width="4" tooltip=""/>
          <column type="float" precision="4"  field="common_fdr" label="FDR (Canonical)" width="4" tooltip=""/>
            <column type="text" field="protein_type" label="Protein Type" width="4"/>
            <column type="text" field="gene" label="Gene" width="4"/>
            <column type="integer" field="pe" label="PE" width="1"/>
            <column type="integer" field="aa_total" label="Protein Length" width="3"/>
          </row>
      </block>

            <block id="view_task_proteins_all" type="table_ss">
          <data>
              <source type="file" name="task_proteins_all/"/>
              <parsers>
                  <parser type="SQLite"/>
              </parsers>
          </data>
          <row>
            <column type="text" field="protein" label="Protein" width="4"/>
          <column type="float" precision="4"  field="hpp_score" label="Score (HPP 2+)" width="4" tooltip=""/>
          <column type="float" precision="4"  field="hpp_fdr" label="FDR (HPP 2+)" width="4" tooltip=""/>
                   <column type="integer" field="hpp_sequences" label="HPP Sequences" width="1"/>
                           <column type="float" precision="3"  field="coverage_incl_shared" label="Total Coverage" width="4" tooltip=""/>

          <!-- <column type="float" precision="4"  field="all_score" label="Score (Canonical old)" width="4" tooltip=""/>
          <column type="float" precision="4"  field="all_fdr" label="FDR (Canonical old)" width="4" tooltip=""/> -->
          <column type="float" precision="4"  field="hint_score" label="Score (Picked)" width="4" tooltip=""/>
          <column type="float" precision="4"  field="hint_fdr" label="FDR (Picked)" width="4" tooltip=""/>
          <column type="float" precision="4"  field="common_score" label="Score (Canonical)" width="4" tooltip=""/>
          <column type="float" precision="4"  field="common_fdr" label="FDR (Canonical)" width="4" tooltip=""/>
            <column type="text" field="protein_type" label="Protein Type" width="4"/>
            <column type="text" field="gene" label="Gene" width="4"/>
            <column type="integer" field="pe" label="PE" width="1"/>
            <column type="integer" field="aa_total" label="Protein Length" width="3"/>
          </row>
      </block>
</interface>
